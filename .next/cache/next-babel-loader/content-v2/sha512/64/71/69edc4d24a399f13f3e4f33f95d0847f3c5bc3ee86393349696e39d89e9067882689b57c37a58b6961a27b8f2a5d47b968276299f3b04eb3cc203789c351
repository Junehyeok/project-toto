{"ast":null,"code":"export default ((req, res) => {\n  if (req.method === \"GET\") {\n    try {\n      const todosBuffer = fs.readFileSync(\"data/todos.json\");\n      const todosString = todosBuffer.toString();\n\n      if (!todosString) {\n        res.statusCode = 200;\n        res.send([]);\n      }\n\n      const todos = JSON.parse(todosString);\n      res.statusCode = 200;\n      return res.send(todos);\n    } catch (e) {\n      console.log(e);\n      res.statusCode = 500;\n      res.send(e);\n    }\n\n    return res.send(\"hello Next!!!!\");\n  }\n\n  res.statusCode = 405;\n  console.log(res.statusCode);\n  return res.end();\n});","map":{"version":3,"sources":["C:/Users/sang_/next-todo/pages/api/todos.ts"],"names":["req","res","method","todosBuffer","fs","readFileSync","todosString","toString","statusCode","send","todos","JSON","parse","e","console","log","end"],"mappings":"AAGA,gBAAe,CAACA,GAAD,EAAuBC,GAAvB,KAAkD;AAC7D,MAAGD,GAAG,CAACE,MAAJ,KAAe,KAAlB,EAAyB;AACrB,QAAI;AACA,YAAMC,WAAW,GAAGC,EAAE,CAACC,YAAH,CAAgB,iBAAhB,CAApB;AACA,YAAMC,WAAW,GAAGH,WAAW,CAACI,QAAZ,EAApB;;AACA,UAAG,CAACD,WAAJ,EAAiB;AACbL,QAAAA,GAAG,CAACO,UAAJ,GAAiB,GAAjB;AACAP,QAAAA,GAAG,CAACQ,IAAJ,CAAS,EAAT;AACH;;AACD,YAAMC,KAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWN,WAAX,CAA1B;AACAL,MAAAA,GAAG,CAACO,UAAJ,GAAiB,GAAjB;AACA,aAAOP,GAAG,CAACQ,IAAJ,CAASC,KAAT,CAAP;AACH,KAVD,CAUE,OAAMG,CAAN,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAZ,MAAAA,GAAG,CAACO,UAAJ,GAAiB,GAAjB;AACAP,MAAAA,GAAG,CAACQ,IAAJ,CAASI,CAAT;AACH;;AAGD,WAAOZ,GAAG,CAACQ,IAAJ,CAAS,gBAAT,CAAP;AACH;;AACAR,EAAAA,GAAG,CAACO,UAAJ,GAAiB,GAAjB;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYd,GAAG,CAACO,UAAhB;AACA,SAAOP,GAAG,CAACe,GAAJ,EAAP;AACJ,CAxBD","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\r\nimport { TodoType } from \"../../types/todo\";\r\n\r\nexport default (req : NextApiRequest, res : NextApiResponse ) => {\r\n    if(req.method === \"GET\") {\r\n        try {\r\n            const todosBuffer = fs.readFileSync(\"data/todos.json\");\r\n            const todosString = todosBuffer.toString();\r\n            if(!todosString) {\r\n                res.statusCode = 200;\r\n                res.send([]);\r\n            }\r\n            const todos: TodoType[] = JSON.parse(todosString);\r\n            res.statusCode = 200;\r\n            return res.send(todos);\r\n        } catch(e) {\r\n            console.log(e);\r\n            res.statusCode = 500;\r\n            res.send(e);\r\n        }\r\n\r\n\r\n        return res.send(\"hello Next!!!!\");\r\n    }\r\n     res.statusCode = 405;\r\n     console.log(res.statusCode);\r\n     return res.end();\r\n}"]},"metadata":{},"sourceType":"module"}